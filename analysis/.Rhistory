t = readNewick("../data/trees/bouckaert_et_al2012-d-place.NEXUS")
t = as(t,"phylo")
treenames = read.csv("../data/trees/treeNameToDPlaceName.tab", stringsAsFactors = F)
newTreeNames = treenames[match(t$tip.label, treenames$Tree),]$FAIR
toDrop = t$tip.label[is.na(x)]
t = drop.tip(t,toDrop)
tree = read.nexus("../data/trees/1219669IndoEuropean_2MCCtrees_annotated.tre")
tree = tree[[1]]
toDrop = tree$tip.label[!tree$tip.label %in% treenames$Tree]
tree = drop.tip(tree,toDrop)
plot(tree)
tx = treenames[match(treenames$Tree, tree$tip.label),]$FAIR
newLabels = paste0("X",1:sum(is.na(tree$tip.label)))
tx[is.na(tx)] = newLabels
tree$tip.label = tx
tree = drop.tip(tree,newLabels)
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
g = read.csv("../data/glottolog-languoid.csv/languoid.csv", stringsAsFactors = F)
f$family = g[match(f$glotto,g$id),]$family_pk
f$family = g[match(f$family,g$pk),]$name
f =f[f$family=="Indo-European",]
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
plot(t)
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
t$tip.label
treenames$Tree %in% t$tip.label
treenames = treenames[treenames$Tree!="",]
treenames$Tree %in% t$tip.label
t$tip.label = treenames[match(t$tip.label, treenames$Tree),]$FAIR
t$tip.label
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
library(ape)
library(caper)
library(phylobase)
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
treenames = read.csv("../data/trees/treeNameToDPlaceName.tab", stringsAsFactors = F)
treenames = treenames[treenames$Tree!="",]
treenames$Tree %in% t$tip.label
t = drop.tip(t,t$tip.label[!t$tip.label %in% treenames$Tree])
t$tip.label = treenames[match(t$tip.label, treenames$Tree),]$FAIR
plot(t)
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
head(g)
head(f)
f[match(t$tip.label, f$Language2),]$soc.id
t$tip.label = f[match(t$tip.label, f$Language2),]$soc.id
?write.tree
write.tree(t, "../data/trees/FAIR_tree.nwk")
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
library(ape)
library(caper)
library(phylobase)
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
treenames = read.csv("../data/trees/treeNameToDPlaceName.tab", stringsAsFactors = F)
treenames = treenames[treenames$Tree!="",]
treenames$Tree %in% t$tip.label
t = drop.tip(t,t$tip.label[!t$tip.label %in% treenames$Tree])
t$tip.label = treenames[match(t$tip.label, treenames$Tree),]$FAIR
write.tree(t, "../data/trees/FAIR_tree.nwk")
# Match to society ID
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
t$tip.label = f[match(t$tip.label, f$Language2),]$soc.id
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
library(ape)
library(caper)
library(phylobase)
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
treenames = read.csv("../data/trees/treeNameToDPlaceName.tab", stringsAsFactors = F)
treenames = treenames[treenames$Tree!="",]
treenames$Tree %in% t$tip.label
t = drop.tip(t,t$tip.label[!t$tip.label %in% treenames$Tree])
t$tip.label = treenames[match(t$tip.label, treenames$Tree),]$FAIR
write.tree(t, "../data/trees/FAIR_tree.nwk")
# Match to society ID
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
t$tip.label = f[match(t$tip.label, f$Language2),]$soc.id
t = read.tree("../data/trees/FAIR_tree.nwk")
d = read.csv("../results/EA_distances/All_Domains.csv", stringsAsFactors = F)
d[1:4,1:4]
t$tip.label %in% d$Var1
t$tip.label[1]
t$tip.label[4]
langs = d$Var1
langs = unique(d$Var1)
langs
sort(langs)
langs = unique(c(d$Var1,d$Var2))
t = drop.tip(t,t$tip.label[!t$tip.label %in% langs])
plot(t)
t$edge.length
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
t = read.tree("../data/trees/FAIR_tree.nwk")
d = read.csv("../results/EA_distances/All_Domains.csv", stringsAsFactors = F)
langs = unique(c(d$Var1,d$Var2))
t = drop.tip(t,t$tip.label[!t$tip.label %in% langs])
d =d[d$Var1 %in% t$tip.label,]
d =d[d$Var2 %in% t$tip.label,]
dim(d)
sqrt(2550)
sqrt(2550*2)
d = read.csv("../results/EA_distances/CulturalDistances_Long.csv", stringsAsFactors = F)
head(d)
langs = unique(c(d$Var1,d$Var2))
t = drop.tip(t,t$tip.label[!t$tip.label %in% langs])
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
t = read.tree("../data/trees/FAIR_tree.nwk")
d = read.csv("../results/EA_distances/CulturalDistances_Long.csv", stringsAsFactors = F)
langs = unique(c(d$Var1,d$Var2))
t = drop.tip(t,t$tip.label[!t$tip.label %in% langs])
d =d[d$Var1 %in% t$tip.label,]
d =d[d$Var2 %in% t$tip.label,]
plot(t)
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
t = read.tree("../data/trees/FAIR_tree.nwk")
cult = read.csv("../results/EA_distances/CulturalDistances_Long.csv", stringsAsFactors = F)
langs = unique(c(cult$Var1,cult$Var2))
t = drop.tip(t,t$tip.label[!t$tip.label %in% langs])
cult =cult[d$Var1 %in% t$tip.label,]
cult =cult[d$Var2 %in% t$tip.label,]
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
t = read.tree("../data/trees/FAIR_tree.nwk")
cult = read.csv("../results/EA_distances/CulturalDistances_Long.csv", stringsAsFactors = F)
langs = unique(c(cult$Var1,cult$Var2))
t = drop.tip(t,t$tip.label[!t$tip.label %in% langs])
cult =cult[d$Var1 %in% t$tip.label,]
cult =cult[d$Var2 %in% t$tip.label,]
# For now, just make up something for linguistic variables
ling = cult
ling$value = jitter(ling$value,amount=2)
plot(ling$value,cult$value)
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
t = read.tree("../data/trees/FAIR_tree.nwk")
cult = read.csv("../results/EA_distances/CulturalDistances_Long.csv", stringsAsFactors = F)
langs = unique(c(cult$Var1,cult$Var2))
t = drop.tip(t,t$tip.label[!t$tip.label %in% langs])
cult =cult[d$Var1 %in% t$tip.label,]
cult =cult[d$Var2 %in% t$tip.label,]
# For now, just make up something for linguistic variables
ling = cult
ling$value = jitter(ling$value,amount=2)
cult = read.csv("../results/EA_distances/CulturalDistances.csv", stringsAsFactors = F)
dim(cult)
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
t = read.tree("../data/trees/FAIR_tree.nwk")
cult = read.csv("../results/EA_distances/CulturalDistances.csv", stringsAsFactors = F)
rownames(cult) = cult[,1]
cult = cult[,2:ncol(cult)]
dim(cult)
cult[1:5,1:5]
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
t = read.tree("../data/trees/FAIR_tree.nwk")
cult = read.csv("../results/EA_distances/CulturalDistances.csv", stringsAsFactors = F)
rownames(cult) = cult[,1]
cult = cult[,2:ncol(cult)]
langs = unique(rownames(cult))
t = drop.tip(t,t$tip.label[!t$tip.label %in% langs])
cult = cult[t$tip.label,t$tip.label]
cult
?copho
cophenetic(t)
rownames(cophenetic(t))
rownames(cult)
jitter(cult)
ling = ling + matrix(rnrom(prod(ling)), nrow=nrow(ling))
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
t = read.tree("../data/trees/FAIR_tree.nwk")
cult = read.csv("../results/EA_distances/CulturalDistances.csv", stringsAsFactors = F)
rownames(cult) = cult[,1]
cult = cult[,2:ncol(cult)]
langs = unique(rownames(cult))
t = drop.tip(t,t$tip.label[!t$tip.label %in% langs])
cult = cult[t$tip.label,t$tip.label]
t.dist = cophenetic(t)
# For now, just make up something for linguistic variables
ling = cult
ling = ling + matrix(rnorm(prod(ling)), nrow=nrow(ling))
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
t = read.tree("../data/trees/FAIR_tree.nwk")
cult = read.csv("../results/EA_distances/CulturalDistances.csv", stringsAsFactors = F)
rownames(cult) = cult[,1]
cult = cult[,2:ncol(cult)]
langs = unique(rownames(cult))
t = drop.tip(t,t$tip.label[!t$tip.label %in% langs])
cult = cult[t$tip.label,t$tip.label]
t.dist = cophenetic(t)
# For now, just make up something for linguistic variables
ling = cult
dim(ling)
matrix(rnorm(prod(ling)), nrow=nrow(ling))
ling = ling + matrix(rnorm(prod(dim(ling))), nrow=nrow(ling))
ling
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
t = read.tree("../data/trees/FAIR_tree.nwk")
cult = read.csv("../results/EA_distances/CulturalDistances.csv", stringsAsFactors = F)
rownames(cult) = cult[,1]
cult = cult[,2:ncol(cult)]
langs = unique(rownames(cult))
t = drop.tip(t,t$tip.label[!t$tip.label %in% langs])
cult = cult[t$tip.label,t$tip.label]
t.dist = cophenetic(t)
# For now, just make up something for linguistic variables
ling = cult
ling = ling + matrix(rnorm(prod(dim(ling)))*0.001, nrow=nrow(ling))
plot(cult,ling)
plot(as.vector(cult),as.vector(ling))
as.vector(cult)
unlist(cult)
plot(unlist(cult),unlist(ling))
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
t = read.tree("../data/trees/FAIR_tree.nwk")
cult = read.csv("../results/EA_distances/CulturalDistances.csv", stringsAsFactors = F)
rownames(cult) = cult[,1]
cult = cult[,2:ncol(cult)]
langs = unique(rownames(cult))
t = drop.tip(t,t$tip.label[!t$tip.label %in% langs])
cult = cult[t$tip.label,t$tip.label]
t.dist = cophenetic(t)
# For now, just make up something for linguistic variables
ling = cult
ling = ling + matrix(rnorm(prod(dim(ling)))*0.1, nrow=nrow(ling))
plot(unlist(cult),unlist(ling))
library(vegan)
??mantel
library(ecodist)
ecodist::mantel(cult~ling + t.dist)
ecodist::mantel(dist(cult)~dist(ling) + dist(t.dist))
?as.dist
ecodist::mantel(as.dist(cult)~as.dist(ling) + as.dist(t.dist))
?ecodist::manel
?ecodist::mantel
?read.tree
ecodist::mantel(as.dist(cult)~
as.dist(ling) +
as.dist(t.dist),
nperm = 10000)
ecodist::mantel(as.dist(cult) +
as.dist(ling))
ecodist::mantel(as.dist(cult) ~
as.dist(ling),
nperm = 10000)
head(f)
dim(f)
f
f$family = g[match(f$glotto,g$id),]$family_pk
f$family = g[match(f$family,g$pk),]$name
sort(table(f$family))
f[f$family=="Atlantic-Congo"]
f[f$family=="Atlantic-Congo",]
treenames = read.csv("../data/trees/taxa.csv")
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
library(ape)
library(caper)
library(phylobase)
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
treenames = read.csv("../data/trees/taxa.csv")
head(treenames)
treenames$taxon %in% t$tip.label
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
head(g)
head(f)
keepTip = f[f$glotto %in% t$tip.label,]$glotto
keepTip
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
library(ape)
library(caper)
library(phylobase)
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
treenames = read.csv("../data/trees/taxa.csv")
t$tip.label = treenames[match(treenames$taxon,t$tip.label),]$glottocode
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
t$tip.label
t$tip.label[t$tip.label==""]
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
treenames = read.csv("../data/trees/taxa.csv", stringsAsFactors = F)
t$tip.label = treenames[match(treenames$taxon,t$tip.label),]$glottocode
t$tip.label[t$tip.label==""]
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
keepTip = f[f$glotto %in% t$tip.label,]$glotto
keepTip
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
library(ape)
library(caper)
library(phylobase)
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
treenames = read.csv("../data/trees/taxa.csv", stringsAsFactors = F)
t$tip.label = treenames[match(treenames$taxon,t$tip.label),]$glottocode
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
keepTip = f[f$glotto %in% t$tip.label,]$glotto
t = drop.tip(t,t$tip.label[!t$tip.label %in% keepTip])
t
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
library(ape)
library(caper)
library(phylobase)
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
treenames = read.csv("../data/trees/taxa.csv", stringsAsFactors = F)
t$tip.label = treenames[match(treenames$taxon,t$tip.label),]$glottocode
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
keepTip = f[f$glotto %in% t$tip.label,]$glotto
t = drop.tip(t,t$tip.label[!t$tip.label %in% keepTip])
treenames = read.csv("../data/trees/treeNameToDPlaceName.tab", stringsAsFactors = F)
treenames = treenames[treenames$Tree!="",]
treenames$Tree %in% t$tip.label
t = drop.tip(t,t$tip.label[!t$tip.label %in% treenames$Tree])
t$tip.label = treenames[match(t$tip.label, treenames$Tree),]$FAIR
t
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
library(ape)
library(caper)
library(phylobase)
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
treenames = read.csv("../data/trees/treeNameToDPlaceName.tab", stringsAsFactors = F)
treenames = treenames[treenames$Tree!="",]
treenames$Tree %in% t$tip.label
t = drop.tip(t,t$tip.label[!t$tip.label %in% treenames$Tree])
t
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
library(ape)
library(caper)
library(phylobase)
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
treenames = read.csv("../data/trees/taxa.csv", stringsAsFactors = F)
# convert tip labels to glotto codes
t$tip.label = treenames[match(treenames$taxon,t$tip.label),]$glottocode
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
keepTip = f[f$glotto %in% t$tip.label,]$glotto
t = drop.tip(t,t$tip.label[!t$tip.label %in% keepTip])
t$tip.label = f[match(t$tip.label,f$glotto),]$Language2
t$tip.label
read.nexus("../data/trees/Grollemund_summary.trees")
t2 = read.nexus("../data/trees/Grollemund_summary.trees")
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
library(ape)
library(caper)
library(phylobase)
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
treenames = read.csv("../data/trees/taxa.csv", stringsAsFactors = F)
# convert tip labels to glotto codes
t$tip.label = treenames[match(t$tip.label,treenames$taxon),]$glottocode
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
keepTip = f[f$glotto %in% t$tip.label,]$glotto
t = drop.tip(t,t$tip.label[!t$tip.label %in% keepTip])
t$tip.label = f[match(t$tip.label,f$glotto),]$Language2
t
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
library(ape)
library(caper)
library(phylobase)
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
treenames = read.csv("../data/trees/taxa.csv", stringsAsFactors = F)
# convert tip labels to glotto codes
t$tip.label = treenames[match(t$tip.label,treenames$taxon),]$glottocode
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
keepTip = f[f$glotto %in% t$tip.label,]$glotto
t = drop.tip(t,t$tip.label[!t$tip.label %in% keepTip])
t$tip.label = f[match(t$tip.label,f$glotto),]$Language2
write.tree(t, "../data/trees/FAIR_tree.nwk")
# Afro-Asiatic
t2 = read.nexus("../data/trees/Grollemund_summary.trees")
treenames2 = read.csv("../data/trees/Grollemund_taxa.csv", stringsAsFactors = F)
t2$tip.label = treenames2[match(t2$tip.label,treenames2$taxon),]$glottocode
t2
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
library(ape)
library(caper)
library(phylobase)
# fair language data
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
# Indo-European
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
treenames = read.csv("../data/trees/taxa.csv", stringsAsFactors = F)
# convert tip labels to glotto codes
t$tip.label = treenames[match(t$tip.label,treenames$taxon),]$glottocode
keepTip = f[f$glotto %in% t$tip.label,]$glotto
t = drop.tip(t,t$tip.label[!t$tip.label %in% keepTip])
t$tip.label = f[match(t$tip.label,f$glotto),]$Language2
write.tree(t, "../data/trees/FAIR_tree_IndoEuropean.nwk")
# Afro-Asiatic
t2 = read.nexus("../data/trees/Grollemund_summary.trees")
treenames2 = read.csv("../data/trees/Grollemund_taxa.csv", stringsAsFactors = F)
t2$tip.label = treenames2[match(t2$tip.label,treenames2$taxon),]$glottocode
keepTip2 = f[f$glotto %in% t2$tip.label,]$glotto
t2 = drop.tip(t2,t2$tip.label[!t2$tip.label %in% keepTip2])
t2$tip.label = f[match(t2$tip.label,f$glotto),]$Language2
t2
f$family = g[match(f$glotto,g$id),]$family_pk
f$family = g[match(f$family,g$pk),]$name
sort(table(f$family))
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
library(ape)
library(caper)
library(phylobase)
# fair language data
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
# Indo-European
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
treenames = read.csv("../data/trees/taxa.csv", stringsAsFactors = F)
# convert tip labels to glotto codes
t$tip.label = treenames[match(t$tip.label,treenames$taxon),]$glottocode
keepTip = f[f$glotto %in% t$tip.label,]$glotto
t = drop.tip(t,t$tip.label[!t$tip.label %in% keepTip])
t$tip.label = f[match(t$tip.label,f$glotto),]$Language2
write.tree(t, "../data/trees/FAIR_tree_IndoEuropean.nwk")
# Afro-Asiatic
t2 = read.nexus("../data/trees/Grollemund_summary.trees")
treenames2 = read.csv("../data/trees/Grollemund_taxa.csv", stringsAsFactors = F)
t2$tip.label = treenames2[match(t2$tip.label,treenames2$taxon),]$glottocode
keepTip2 = f[f$glotto %in% t2$tip.label,]$glotto
t2 = drop.tip(t2,t2$tip.label[!t2$tip.label %in% keepTip2])
t2$tip.label = f[match(t2$tip.label,f$glotto),]$Language2
write.tree(t2, "../data/trees/FAIR_tree_AfroAsiatic.nwk")
# Austronesian
t3 = read.nexus("../data/trees/Gray_summary.trees")
treenames3 = read.csv("../data/trees/Gray_taxa.csv", stringsAsFactors = F)
t3$tip.label = treenames3[match(t3$tip.label,treenames3$taxon),]$glottocode
keepTip3 = f[f$glotto %in% t3$tip.label,]$glotto
t3 = drop.tip(t3,t3$tip.label[!t3$tip.label %in% keepTip2])
t3$tip.label = f[match(t3$tip.label,f$glotto),]$Language2
write.tree(t3, "../data/trees/FAIR_tree_AfroAsiatic.nwk")
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
library(ape)
library(caper)
library(phylobase)
# fair language data
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
# Indo-European
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
treenames = read.csv("../data/trees/taxa.csv", stringsAsFactors = F)
# convert tip labels to glotto codes
t$tip.label = treenames[match(t$tip.label,treenames$taxon),]$glottocode
keepTip = f[f$glotto %in% t$tip.label,]$glotto
t = drop.tip(t,t$tip.label[!t$tip.label %in% keepTip])
t$tip.label = f[match(t$tip.label,f$glotto),]$Language2
write.tree(t, "../data/trees/FAIR_tree_IndoEuropean.nwk")
# Afro-Asiatic
t2 = read.nexus("../data/trees/Grollemund_summary.trees")
treenames2 = read.csv("../data/trees/Grollemund_taxa.csv", stringsAsFactors = F)
t2$tip.label = treenames2[match(t2$tip.label,treenames2$taxon),]$glottocode
keepTip2 = f[f$glotto %in% t2$tip.label,]$glotto
t2 = drop.tip(t2,t2$tip.label[!t2$tip.label %in% keepTip2])
t2$tip.label = f[match(t2$tip.label,f$glotto),]$Language2
write.tree(t2, "../data/trees/FAIR_tree_AfroAsiatic.nwk")
# Austronesian
t3 = read.nexus("../data/trees/Gray_summary.trees")
treenames3 = read.csv("../data/trees/Gray_taxa.csv", stringsAsFactors = F)
t3$tip.label = treenames3[match(t3$tip.label,treenames3$taxon),]$glottocode
t3$tip.label
f$glotto %in% t3$tip.label
keepTip3 = f[f$glotto %in% t3$tip.label,]$glotto
t3$tip.label[!t3$tip.label %in% keepTip2]
t3 = drop.tip(t3,t3$tip.label[!t3$tip.label %in% keepTip3])
t3
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
library(ape)
library(caper)
library(phylobase)
# fair language data
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
# Indo-European
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
treenames = read.csv("../data/trees/taxa.csv", stringsAsFactors = F)
# convert tip labels to glotto codes
t$tip.label = treenames[match(t$tip.label,treenames$taxon),]$glottocode
keepTip = f[f$glotto %in% t$tip.label,]$glotto
t = drop.tip(t,t$tip.label[!t$tip.label %in% keepTip])
t$tip.label = f[match(t$tip.label,f$glotto),]$Language2
write.tree(t, "../data/trees/FAIR_tree_IndoEuropean.nwk")
t.dist = cophenetic(t)
t.dist = cophenetic(t)
t.dist
hist(t.dist)
?cophenetic
write.csv(t.dist, file="../data/trees/IndoEuropean_historical_distances.csv", row.names = T)
setwd("~/Documents/Bristol/word2vec/word2vec_DPLACE/analysis/")
library(ape)
library(caper)
library(phylobase)
# fair language data
f = read.csv("../data/FAIR_langauges_glotto_xdid.csv", stringsAsFactors = F)
# Indo-European
t = read.nexus("../data/trees/bouckaert_et_al2012-d-place_2.NEXUS")
treenames = read.csv("../data/trees/taxa.csv", stringsAsFactors = F)
# convert tip labels to glotto codes
t$tip.label = treenames[match(t$tip.label,treenames$taxon),]$glottocode
keepTip = f[f$glotto %in% t$tip.label,]$glotto
t = drop.tip(t,t$tip.label[!t$tip.label %in% keepTip])
t$tip.label = f[match(t$tip.label,f$glotto),]$Language2
write.tree(t, "../data/trees/FAIR_tree_IndoEuropean.nwk")
t.dist = cophenetic(t)
write.csv(t.dist, file="../data/trees/IndoEuropean_historical_distances.csv", row.names = T)
# Afro-Asiatic
t2 = read.nexus("../data/trees/Grollemund_summary.trees")
treenames2 = read.csv("../data/trees/Grollemund_taxa.csv", stringsAsFactors = F)
t2$tip.label = treenames2[match(t2$tip.label,treenames2$taxon),]$glottocode
keepTip2 = f[f$glotto %in% t2$tip.label,]$glotto
t2 = drop.tip(t2,t2$tip.label[!t2$tip.label %in% keepTip2])
t2$tip.label = f[match(t2$tip.label,f$glotto),]$Language2
write.tree(t2, "../data/trees/FAIR_tree_AfroAsiatic.nwk")
t2.dist = cophenetic(t2)
write.csv(t2.dist, file="../data/trees/AfroAsiatic_historical_distances.csv", row.names = T)
# Austronesian
t3 = read.nexus("../data/trees/Gray_summary.trees")
treenames3 = read.csv("../data/trees/Gray_taxa.csv", stringsAsFactors = F)
t3$tip.label = treenames3[match(t3$tip.label,treenames3$taxon),]$glottocode
keepTip3 = f[f$glotto %in% t3$tip.label,]$glotto
t3 = drop.tip(t3,t3$tip.label[!t3$tip.label %in% keepTip3])
t3$tip.label = f[match(t3$tip.label,f$glotto),]$Language2
write.tree(t3, "../data/trees/FAIR_tree_Austronesian.nwk")
t3.dist = cophenetic(t3)
write.csv(t3.dist, file="../data/trees/Austronesian_historical_distances.csv", row.names = T)
